"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["8042"],{7278:function(e,n,r){r.r(n),r.d(n,{default:()=>h});var s=r(2676),a=r(453);function d(e){let n=Object.assign({h1:"h1",a:"a",blockquote:"blockquote",p:"p",h2:"h2",h3:"h3",ol:"ol",li:"li",code:"code",ul:"ul",strong:"strong",pre:"pre",hr:"hr"},(0,a.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"扩展开发快速入门",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#扩展开发快速入门",children:"#"}),"扩展开发快速入门"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["详细的开发指南请参考 ",(0,s.jsx)(n.a,{href:"/guide/extension/development",children:"扩展开发指南"})]}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"快速创建扩展",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#快速创建扩展",children:"#"}),"快速创建扩展"]}),"\n",(0,s.jsxs)(n.h3,{id:"使用管理界面创建",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用管理界面创建",children:"#"}),"使用管理界面创建"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["进入 ",(0,s.jsx)(n.code,{children:"开发工具 > 扩展管理"})]}),"\n",(0,s.jsxs)(n.li,{children:["点击 ",(0,s.jsx)(n.code,{children:"创建扩展"})," 按钮"]}),"\n",(0,s.jsxs)(n.li,{children:["填写扩展信息：","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"包名"}),"：",(0,s.jsx)(n.code,{children:"vendor/package-name"}),"（如：",(0,s.jsx)(n.code,{children:"slowlyo/banner"}),"）"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"命名空间"}),"：",(0,s.jsx)(n.code,{children:"Vendor\\PackageName"}),"（如：",(0,s.jsx)(n.code,{children:"Slowlyo\\Banner"}),"）"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"点击确认，系统自动生成扩展骨架"}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"目录结构",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#目录结构",children:"#"}),"目录结构"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"extensions/vendor/package-name/\n├── composer.json              # Composer 配置\n├── README.md                  # 扩展文档\n├── logo.png                   # 扩展图标（可选）\n├── src/\n│   ├── PackageNameServiceProvider.php  # 服务提供者\n│   └── Http/\n│       ├── Controllers/\n│       │   └── PackageNameController.php\n│       ├── Middleware/        # 中间件目录\n│       └── routes.php         # 路由文件\n├── database/\n│   └── migrations/            # 数据库迁移\n├── lang/                      # 语言包\n│   ├── zh_CN/\n│   └── en/\n└── public/\n    └── extensions/\n        └── vendor/\n            └── package-name/  # 静态资源\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"核心文件说明",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#核心文件说明",children:"#"}),"核心文件说明"]}),"\n",(0,s.jsxs)(n.h3,{id:"服务提供者",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#服务提供者",children:"#"}),"服务提供者"]}),"\n",(0,s.jsxs)(n.p,{children:["扩展的核心类，继承自 ",(0,s.jsx)(n.code,{children:"Slowlyo\\OwlAdmin\\Extend\\ServiceProvider"}),"："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\n\nnamespace Vendor\\PackageName;\n\nuse Slowlyo\\OwlAdmin\\Renderers\\TextControl;\nuse Slowlyo\\OwlAdmin\\Extend\\ServiceProvider;\n\nclass PackageNameServiceProvider extends ServiceProvider\n{\n    // 扩展配置表单\n    public function settingForm()\n    {\n        return $this->baseSettingForm()->body([\n            TextControl::make()\n                ->name('api_key')\n                ->label('API Key')\n                ->required(true),\n        ]);\n    }\n}\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"控制器",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#控制器",children:"#"}),"控制器"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\n\nnamespace Vendor\\PackageName\\Http\\Controllers;\n\nuse Slowlyo\\OwlAdmin\\Controllers\\AdminController;\n\nclass PackageNameController extends AdminController\n{\n    public function index()\n    {\n        $page = $this->basePage()->body([\n            amis()->Card()->header(['title' => '扩展页面'])\n        ]);\n\n        return $this->response()->success($page);\n    }\n}\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"路由定义",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#路由定义",children:"#"}),"路由定义"]}),"\n",(0,s.jsxs)(n.p,{children:["在 ",(0,s.jsx)(n.code,{children:"src/Http/routes.php"})," 中："]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\n\nuse Illuminate\\Support\\Facades\\Route;\nuse Vendor\\PackageName\\Http\\Controllers\\PackageNameController;\n\nRoute::get('package-name', [PackageNameController::class, 'index']);\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"常用功能",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#常用功能",children:"#"}),"常用功能"]}),"\n",(0,s.jsxs)(n.h3,{id:"菜单管理",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#菜单管理",children:"#"}),"菜单管理"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// 在服务提供者中导入菜单\n$this->importMenu([\n    [\n        'title' => '扩展菜单',\n        'url' => '/package-name',\n        'icon' => 'fa fa-cube',\n    ]\n]);\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"配置管理",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置管理",children:"#"}),"配置管理"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// 获取配置\n$value = $this->config('api_key');\n\n// 静态方法获取\n$value = static::setting('api_key');\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"静态资源",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#静态资源",children:"#"}),"静态资源"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// 加载 CSS/JS\n$this->loadCss('/css/style.css');\n$this->loadJs('/js/script.js');\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"语言包",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#语言包",children:"#"}),"语言包"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"// 使用翻译\n$message = static::trans('messages.hello');\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"开发流程",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开发流程",children:"#"}),"开发流程"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"创建扩展骨架"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"开发功能代码"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"配置路由和菜单"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"测试功能"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"完善文档"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"打包发布"})}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"调试技巧",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#调试技巧",children:"#"}),"调试技巧"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["使用 ",(0,s.jsx)(n.code,{children:"\\Log::info()"})," 记录调试信息"]}),"\n",(0,s.jsx)(n.li,{children:"在开发环境启用详细错误信息"}),"\n",(0,s.jsx)(n.li,{children:"查看系统日志排查问题"}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"发布扩展",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#发布扩展",children:"#"}),"发布扩展"]}),"\n",(0,s.jsxs)(n.h3,{id:"本地打包",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#本地打包",children:"#"}),"本地打包"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'zip -r package-name-v1.0.0.zip . -x "*.git*" "node_modules/*" "vendor/*"\n'})}),"\n",(0,s.jsxs)(n.h3,{id:"发布到-packagist",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#发布到-packagist",children:"#"}),"发布到 Packagist"]}),"\n",(0,s.jsxs)(n.p,{children:["参考 ",(0,s.jsx)(n.a,{href:"https://packagist.org/",rel:"noopener noreferrer",target:"_blank",children:"Packagist 文档"})," 将扩展发布到 Composer 仓库。"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["更多详细信息请查看 ",(0,s.jsx)(n.a,{href:"/guide/extension/development",children:"完整开发指南"}),"。"]})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(d,e)})):d(e)}let h=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["guide%2Fextension%2Fdevelop.md"]={toc:[{id:"快速创建扩展",text:"快速创建扩展",depth:2},{id:"使用管理界面创建",text:"使用管理界面创建",depth:3},{id:"目录结构",text:"目录结构",depth:3},{id:"核心文件说明",text:"核心文件说明",depth:2},{id:"服务提供者",text:"服务提供者",depth:3},{id:"控制器",text:"控制器",depth:3},{id:"路由定义",text:"路由定义",depth:3},{id:"常用功能",text:"常用功能",depth:2},{id:"菜单管理",text:"菜单管理",depth:3},{id:"配置管理",text:"配置管理",depth:3},{id:"静态资源",text:"静态资源",depth:3},{id:"语言包",text:"语言包",depth:3},{id:"开发流程",text:"开发流程",depth:2},{id:"调试技巧",text:"调试技巧",depth:2},{id:"发布扩展",text:"发布扩展",depth:2},{id:"本地打包",text:"本地打包",depth:3},{id:"发布到-packagist",text:"发布到 Packagist",depth:3}],title:"扩展开发快速入门",headingTitle:"扩展开发快速入门",frontmatter:{}}}}]);