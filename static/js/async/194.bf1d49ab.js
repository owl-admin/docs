"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["194"],{3917:function(e,n,a){a.r(n),a.d(n,{default:function(){return l}});var r=a(2676),t=a(453);function s(e){let n=Object.assign({h1:"h1",a:"a",blockquote:"blockquote",p:"p",code:"code",h2:"h2",pre:"pre"},(0,t.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"设置",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#设置",children:"#"}),"设置"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"后台管理系统中的常用功能"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["在 ",(0,r.jsx)(n.code,{children:"App\\Admin\\Controllers\\SettingsController"})," 中有部分示例代码可供参考"]}),"\n",(0,r.jsxs)(n.p,{children:["可以通过 ",(0,r.jsx)(n.code,{children:"settings()"})," 辅助函数保存或获取设置"]}),"\n",(0,r.jsx)(n.p,{children:"内置以下方法:"}),"\n",(0,r.jsxs)(n.h2,{id:"set---保存设置",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#set---保存设置",children:"#"}),"set - 保存设置"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",meta:"",children:"/**\n * @param $key\n * @param $value\n *\n * @return bool\n */\npublic function set($key, $value = null) { }\n\n// eg\nsettings()->set('site_name', 'Owl Admin');\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"setmany---批量保存设置",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#setmany---批量保存设置",children:"#"}),"setMany - 批量保存设置"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",meta:"",children:"/**\n * @param array $data\n *\n * @return bool\n */\npublic function setMany(array $data) { }\n\n// eg\nsettings()->setMany([\n    'site_name' => 'Owl Admin',\n    'site_description' => 'Owl Admin is a laravel admin package',\n]);\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"adminsetmany---批量保存设置并返回后台响应格式数据",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#adminsetmany---批量保存设置并返回后台响应格式数据",children:"#"}),"adminSetMany - 批量保存设置并返回后台响应格式数据"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",meta:"",children:"/**\n * @param array $data\n *\n * @return \\Illuminate\\Http\\JsonResponse|\\Illuminate\\Http\\Resources\\Json\\JsonResource\n */\npublic function adminSetMany(array $data) { }\n\n// eg\npublic function store(Request $request)\n{\n    // 直接返回后台响应格式数据\n    return settings()->adminSetMany($request->all());\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"all---以数组形式返回所有设置",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#all---以数组形式返回所有设置",children:"#"}),"all - 以数组形式返回所有设置"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",meta:"",children:"/**\n * @return array\n */\npublic function all() { }\n\n// eg\nsettings()->all();\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"get---获取设置项",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#get---获取设置项",children:"#"}),"get - 获取设置项"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",meta:"",children:"/**\n * @param string $key 设置项key\n * @param mixed|null $default 默认值\n * @param bool $fresh 是否直接从数据库获取\n *\n * @return mixed|null\n */\npublic function get(string $key, mixed $default = null, bool $fresh = false) { }\n\n// eg\nsettings()->get('site_name');\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"arrayget---获取设置项中的某个值",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#arrayget---获取设置项中的某个值",children:"#"}),"arrayGet - 获取设置项中的某个值"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",meta:"",children:"/**\n * @param string $key 设置项key\n * @param string $path 通过点号分隔的路径, 同Arr::get()\n * @param $default\n *\n * @return array|\\ArrayAccess|mixed|null\n */\npublic function arrayGet(string $key, string $path, $default = null) { }\n\n// eg\nsettings()->arrayGet('site_info', 'title.zh.value');\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"clearcache---清除指定设置项的缓存",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#clearcache---清除指定设置项的缓存",children:"#"}),"clearCache - 清除指定设置项的缓存"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",meta:"",children:"/**\n * @param $key\n *\n * @return void\n */\npublic function clearCache($key) { }\n\n// eg\nsettings()->clearCache('site_name');\n"})})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(s,e)})):s(e)}let l=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["guide%2Fbuilt-in%2Fsetting.md"]={toc:[{id:"set---保存设置",text:"set - 保存设置",depth:2},{id:"setmany---批量保存设置",text:"setMany - 批量保存设置",depth:2},{id:"adminsetmany---批量保存设置并返回后台响应格式数据",text:"adminSetMany - 批量保存设置并返回后台响应格式数据",depth:2},{id:"all---以数组形式返回所有设置",text:"all - 以数组形式返回所有设置",depth:2},{id:"get---获取设置项",text:"get - 获取设置项",depth:2},{id:"arrayget---获取设置项中的某个值",text:"arrayGet - 获取设置项中的某个值",depth:2},{id:"clearcache---清除指定设置项的缓存",text:"clearCache - 清除指定设置项的缓存",depth:2}],title:"设置",frontmatter:{}}}}]);