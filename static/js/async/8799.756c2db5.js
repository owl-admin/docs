"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["8799"],{2433:function(e,n,r){r.r(n),r.d(n,{default:function(){return d}});var s=r(2676),i=r(453);function l(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",ul:"ul",li:"li",code:"code",h3:"h3",p:"p",pre:"pre",div:"div"},(0,i.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"安装",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安装",children:"#"}),"安装"]}),"\n",(0,s.jsxs)(n.h2,{id:"环境",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#环境",children:"#"}),"环境"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["PHP >= ",(0,s.jsx)(n.code,{children:"8.2"})]}),"\n",(0,s.jsxs)(n.li,{children:["Laravel >= ",(0,s.jsx)(n.code,{children:"11.*"})]}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"开始安装",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开始安装",children:"#"}),"开始安装"]}),"\n",(0,s.jsxs)(n.h3,{id:"安装laravel",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安装laravel",children:"#"}),"安装",(0,s.jsx)(n.code,{children:"laravel"})]}),"\n",(0,s.jsxs)(n.p,{children:["首先需要安装",(0,s.jsx)(n.code,{children:"laravel"}),"框架，如已安装可以跳过此步骤。如果您是第一次使用",(0,s.jsx)(n.code,{children:"laravel"}),"，请务必先阅读 ",(0,s.jsx)(n.a,{href:"https://learnku.com/docs/laravel/9.x/installation/12200",rel:"noopener noreferrer",target:"_blank",children:"文档"})," ！"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",meta:"",children:"composer create-project --prefer-dist laravel/laravel 项目名称 9.*\n# 或\ncomposer create-project --prefer-dist laravel/laravel 项目名称\n"})}),"\n",(0,s.jsxs)(n.p,{children:["安装完",(0,s.jsx)(n.code,{children:"laravel"}),"之后需要修改",(0,s.jsx)(n.code,{children:".env"}),"文件，设置数据库连接设置正确"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{meta:"",children:"DB_CONNECTION=mysql\nDB_HOST=127.0.0.1\nDB_PORT=3306\nDB_DATABASE=owl_admin\nDB_USERNAME=root\nDB_PASSWORD=\n"})}),"\n",(0,s.jsxs)(n.p,{children:["如果有需要的话，在此时可以在",(0,s.jsx)(n.code,{children:"config/app.php"}),"设置中文"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"locale"})," 如下设置"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{meta:"",children:"'locale' => 'zh_CN',\n"})}),"\n",(0,s.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,s.jsx)(n.div,{className:"rspress-directive-title",children:"注意"}),(0,s.jsx)(n.div,{className:"rspress-directive-content",children:(0,s.jsxs)(n.p,{children:["\n如果你使用的是 laravel 11 的话\n还需要执行 ",(0,s.jsx)(n.code,{children:"php artisan install:api"})]})})]}),"\n",(0,s.jsxs)(n.h3,{id:"安装owl-admin",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安装owl-admin",children:"#"}),"安装",(0,s.jsx)(n.code,{children:"owl-admin"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",meta:"",children:"cd {项目名称}\n\ncomposer require slowlyo/owl-admin\n"})}),"\n",(0,s.jsx)(n.p,{children:"然后运行下面的命令来发布资源："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",meta:"",children:"php artisan admin:publish\n"})}),"\n",(0,s.jsxs)(n.p,{children:["在该命令会生成配置文件",(0,s.jsx)(n.code,{children:"config/admin.php"}),"，可以在里面修改安装的地址、数据库连接、以及表名，建议都是用默认配置不修改。"]}),"\n",(0,s.jsx)(n.p,{children:"然后运行下面的命令完成安装："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",meta:"",children:"php artisan admin:install\n"})}),"\n",(0,s.jsxs)(n.div,{className:"rspress-directive info",children:[(0,s.jsx)(n.div,{className:"rspress-directive-title",children:"Tips"}),(0,s.jsxs)(n.div,{className:"rspress-directive-content",children:[(0,s.jsxs)(n.p,{children:["\n执行这一步命令可能会报以下错误 ",(0,s.jsx)(n.code,{children:"Specified key was too long ... 767 bytes"})]}),(0,s.jsx)(n.p,{children:"如果出现这个报错，需手动修改配置文件:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-diff",meta:'title="config/database.php"',children:"'mysql'=>[\n    // ...\n-   'engine' => null,\n+   'engine' => 'InnoDB',\n]\n"})}),"然后删除掉数据库中的所有数据表，再重新运行一遍 ",(0,s.jsx)(n.code,{children:"php artisan admin:install"})]})]}),"\n",(0,s.jsx)(n.p,{children:"上述步骤操作完成之后就可以配置 web 服务了，注意需要把 web 目录也就是运行目录指向 public 目录"}),"\n",(0,s.jsx)(n.p,{children:"nginx 伪静态配置如下:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{meta:"",children:"location / {\n    try_files $uri $uri/ /index.php?$query_string;\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["另外注意文件权限设置 ",(0,s.jsx)(n.code,{children:"755"}),", 否则可能报错"]}),"\n",(0,s.jsxs)(n.p,{children:["启动服务后，在浏览器打开 ",(0,s.jsx)(n.code,{children:"http://localhost/admin"}),"，使用用户名 ",(0,s.jsx)(n.code,{children:"admin"})," 和密码 ",(0,s.jsx)(n.code,{children:"admin"}),"登陆。"]}),"\n",(0,s.jsxs)(n.h2,{id:"目录结构",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#目录结构",children:"#"}),"目录结构"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{meta:"",children:".\n├── app\n│   ├── Admin\n│   │   ├── Controllers\n│   │   │   ├── AuthController.php      # 可以在这个控制器中重写登录等逻辑\n│   │   │   ├── HomeController.php      # 默认的后台控制台控制器\n│   │   │   └── SettingController.php   # 一个演示的控制器\n│   │   ├── bootstrap.php               # admin 启动时会加载这个文件\n│   │   └── routes.php                  # admin 常规路由文件\n├── config\n│   └── admin.php                       # 框架配置文件\n└── public\n    └── admin-assets                    # 框架静态资源文件目录\n"})})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(l,e)})):l(e)}let d=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["guide%2Fbasic%2Finstall.md"]={toc:[{id:"环境",text:"环境",depth:2},{id:"开始安装",text:"开始安装",depth:2},{id:"安装laravel",text:"安装`laravel`",depth:3},{id:"安装owl-admin",text:"安装`owl-admin`",depth:3},{id:"目录结构",text:"目录结构",depth:2}],title:"安装",frontmatter:{}}}}]);