"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["8480"],{1594:function(e,n,s){s.r(n),s.d(n,{default:function(){return l}});var t=s(2676),i=s(453);function a(e){let n=Object.assign({h1:"h1",a:"a",h3:"h3",ul:"ul",li:"li",code:"code",strong:"strong",pre:"pre"},(0,i.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"php-与-amis-无法混用",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#php-与-amis-无法混用",children:"#"}),"php 与 amis 无法混用"]}),"\n",(0,t.jsxs)(n.h3,{id:"原因",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#原因",children:"#"}),"原因"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"OwlAdmin"})," 是 ",(0,t.jsx)(n.strong,{children:"前后端分离"})," 的项目"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"list()"}),"、",(0,t.jsx)(n.code,{children:"detail()"}),"、",(0,t.jsx)(n.code,{children:"form()"})," 只负责构建页面, 在这几个方法内的 ",(0,t.jsx)(n.code,{children:"php"})," 代码, 只能获取数据, 无法与页面产生交互"]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"代码示例",children:[(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#代码示例",children:"#"}),"代码示例"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",meta:"",children:"// eg: 根据 type 的值, 动态切换 options 的选项数据 \npublic function form()\n{\n    return $this->baseForm()->body([\n        amisMake()->SelectControl()->name('type')->label('类型')->options([\n            'a' => 'A',\n            'b' => 'B',\n            'c' => 'C',\n        ]),\n        // 在执行到 getOptinos 方法时, 传入的只是一个字符串, 并不是 type 的值\n        amisMake()->SelectControl()\n            ->name('options')\n            ->label('对应选项')\n            ->options(DataModel::getOptions('${type}')),\n        // 正确做法\n        amisMake()->SelectControl()\n            ->name('options')\n            ->label('对应选项')\n            ->api('/get_options?type=${type}') // 通过 api 动态获取选项\n    ]);\n}\n"})})]})}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,t.jsx)(n,Object.assign({},e,{children:(0,t.jsx)(a,e)})):a(e)}let l=r;r.__RSPRESS_PAGE_META={},r.__RSPRESS_PAGE_META["faq%2Fphp-amis.md"]={toc:[{id:"原因",text:"原因",depth:3},{id:"代码示例",text:"代码示例",depth:3}],title:"php 与 amis 无法混用",frontmatter:{}}}}]);