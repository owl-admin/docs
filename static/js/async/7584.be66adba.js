"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["7584"],{9134:function(e,n,s){s.r(n),s.d(n,{default:function(){return h}});var i=s(2676),d=s(453);function r(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",h2:"h2",h3:"h3",pre:"pre",strong:"strong",ul:"ul",li:"li",div:"div",ol:"ol"},(0,d.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"内置命令",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#内置命令",children:"#"}),"内置命令"]}),"\n",(0,i.jsxs)(n.p,{children:["Owl Admin 提供了丰富的 Artisan 命令来简化开发和维护工作。您可以使用 ",(0,i.jsx)(n.code,{children:"php artisan list"})," 查看所有可用的命令。"]}),"\n",(0,i.jsxs)(n.h2,{id:"用户管理命令",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#用户管理命令",children:"#"}),"用户管理命令"]}),"\n",(0,i.jsxs)(n.h3,{id:"创建管理员用户",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#创建管理员用户",children:"#"}),"创建管理员用户"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 交互式创建新的管理员用户\n# 执行后会提示输入用户名、密码、显示名称和角色\n\nphp artisan admin:create-user\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"使用说明："})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"支持选择多个角色"}),"\n",(0,i.jsx)(n.li,{children:"密码会自动加密存储"}),"\n",(0,i.jsx)(n.li,{children:"创建成功后会显示确认信息"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"重置用户密码",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#重置用户密码",children:"#"}),"重置用户密码"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 重置指定用户的密码\n# 执行后会提示选择用户和输入新密码\n\nphp artisan admin:reset-password\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"使用说明："})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"支持用户名自动补全"}),"\n",(0,i.jsx)(n.li,{children:"需要二次确认密码"}),"\n",(0,i.jsx)(n.li,{children:"密码会自动加密存储"}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"框架管理命令",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#框架管理命令",children:"#"}),"框架管理命令"]}),"\n",(0,i.jsxs)(n.h3,{id:"安装框架",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安装框架",children:"#"}),"安装框架"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 初始化 Owl Admin 框架\n# 创建目录结构、运行数据库迁移、填充初始数据\n\nphp artisan admin:install\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"功能说明："})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"运行数据库迁移"}),"\n",(0,i.jsx)(n.li,{children:"创建管理目录结构"}),"\n",(0,i.jsx)(n.li,{children:"生成基础控制器文件"}),"\n",(0,i.jsx)(n.li,{children:"创建路由文件"}),"\n",(0,i.jsx)(n.li,{children:"填充初始管理员数据"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"发布框架资源",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#发布框架资源",children:"#"}),"发布框架资源"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 发布框架资源文件到项目中\n\nphp artisan admin:publish [选项]\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"可选参数："})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--force"}),"：强制覆盖已存在的文件"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--lang"}),"：仅发布语言文件"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--views"}),"：发布前端源码（通常不需要）"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--assets"}),"：仅发布静态资源文件"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--config"}),"：仅发布配置文件"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"使用示例："})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 发布所有资源\nphp artisan admin:publish\n\n# 强制发布语言和静态资源\nphp artisan admin:publish --force --lang --assets\n\n# 仅发布配置文件\nphp artisan admin:publish --config\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"更新框架",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#更新框架",children:"#"}),"更新框架"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 更新框架到最新版本\n\nphp artisan admin:update [--v=版本号]\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"可选参数："})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--v"}),"：指定版本号（根据 GitHub release 填写）"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"使用示例："})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 更新到最新版本\nphp artisan admin:update\n\n# 更新到指定版本\nphp artisan admin:update --v=257\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"功能说明："})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"自动发布最新资源"}),"\n",(0,i.jsx)(n.li,{children:"执行版本升级脚本"}),"\n",(0,i.jsx)(n.li,{children:"更新配置和语言文件"}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"代码生成命令",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#代码生成命令",children:"#"}),"代码生成命令"]}),"\n",(0,i.jsxs)(n.h3,{id:"生成路由文件",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#生成路由文件",children:"#"}),"生成路由文件"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 根据代码生成器记录生成路由文件\n\nphp artisan admin:gen-route [--excluded=排除ID]\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"可选参数："})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--excluded"}),"：排除的记录ID，多个用逗号分隔"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"使用示例："})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 生成所有路由\nphp artisan admin:gen-route\n\n# 排除指定记录\nphp artisan admin:gen-route --excluded=1,2,3\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"功能说明："})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["生成的路由文件位于 ",(0,i.jsx)(n.code,{children:"/routes/admin.php"})]}),"\n",(0,i.jsx)(n.li,{children:"包含代码生成器创建的资源路由"}),"\n",(0,i.jsx)(n.li,{children:"包含自定义 API 路由"}),"\n",(0,i.jsx)(n.li,{children:"自动排除未启用的菜单"}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"注意"}),(0,i.jsx)(n.div,{className:"rspress-directive-content",children:(0,i.jsx)(n.p,{children:"\n代码生成器的清理功能已从命令行移至 Web 界面，请在开发工具 > 代码生成器页面中使用清理功能。"})})]}),"\n",(0,i.jsxs)(n.h2,{id:"模块管理命令",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#模块管理命令",children:"#"}),"模块管理命令"]}),"\n",(0,i.jsxs)(n.h3,{id:"初始化模块",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#初始化模块",children:"#"}),"初始化模块"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 初始化指定的模块\n\nphp artisan admin-module:init 模块名 [模块名2 ...]\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"使用示例："})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 初始化单个模块\nphp artisan admin-module:init Master\n\n# 初始化多个模块\nphp artisan admin-module:init Master User Product\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"功能说明："})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"创建模块数据库结构"}),"\n",(0,i.jsx)(n.li,{children:"生成模块基础文件"}),"\n",(0,i.jsx)(n.li,{children:"创建模块配置"}),"\n",(0,i.jsx)(n.li,{children:"填充初始数据"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"初始化模块数据库",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#初始化模块数据库",children:"#"}),"初始化模块数据库"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 仅初始化模块的数据库部分\n\nphp artisan admin-module:init-db 模块名 [模块名2 ...]\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"使用示例："})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 初始化模块数据库\nphp artisan admin-module:init-db Master\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"功能说明："})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"创建模块数据表"}),"\n",(0,i.jsx)(n.li,{children:"填充模块初始数据"}),"\n",(0,i.jsx)(n.li,{children:"不创建文件结构"}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"开发工具命令",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开发工具命令",children:"#"}),"开发工具命令"]}),"\n",(0,i.jsxs)(n.h3,{id:"环境检查",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#环境检查",children:"#"}),"环境检查"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 检查系统环境和配置\n\nphp artisan admin:check [--zh]\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"可选参数："})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--zh"}),"：使用中文提示信息"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"检查项目："})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"APP_KEY 配置"}),"\n",(0,i.jsx)(n.li,{children:"语言设置"}),"\n",(0,i.jsx)(n.li,{children:"数据库连接"}),"\n",(0,i.jsx)(n.li,{children:"框架版本信息"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"使用示例："})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 英文检查\nphp artisan admin:check\n\n# 中文检查\nphp artisan admin:check --zh\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"生成-ide-辅助文件",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#生成-ide-辅助文件",children:"#"}),"生成 IDE 辅助文件"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 生成 IDE 智能提示文件\n\nphp artisan admin:ide-helper\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"功能说明："})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"生成控制器和服务的类型提示"}),"\n",(0,i.jsx)(n.li,{children:"提高 IDE 代码补全准确性"}),"\n",(0,i.jsxs)(n.li,{children:["文件保存在 ",(0,i.jsx)(n.code,{children:"config('admin.directory')/.phpstorm.meta.php"})," 与项目根目录 ",(0,i.jsx)(n.code,{children:"/_admin_ide_helper.php"})]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"命令使用技巧",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#命令使用技巧",children:"#"}),"命令使用技巧"]}),"\n",(0,i.jsxs)(n.h3,{id:"1-查看命令帮助",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-查看命令帮助",children:"#"}),"1. 查看命令帮助"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 查看特定命令的详细帮助\nphp artisan help admin:install\n\n# 查看命令的参数和选项\nphp artisan admin:publish --help\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"2-批量操作",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-批量操作",children:"#"}),"2. 批量操作"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 一次性发布多种资源\nphp artisan admin:publish --lang --assets --config --force\n\n# 初始化多个模块\nphp artisan admin-module:init Module1 Module2 Module3\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"3-开发环境快速设置",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-开发环境快速设置",children:"#"}),"3. 开发环境快速设置"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 新项目快速初始化\nphp artisan admin:install\nphp artisan admin:create-user\nphp artisan admin:publish --assets\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"4-生产环境部署",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-生产环境部署",children:"#"}),"4. 生产环境部署"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"# 生产环境更新流程\ncomposer update slowlyo/owl-admin\nphp artisan admin:update\nphp artisan admin:publish --assets --force\nphp artisan config:cache\nphp artisan route:cache\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"常见问题",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#常见问题",children:"#"}),"常见问题"]}),"\n",(0,i.jsxs)(n.h3,{id:"q-命令执行失败怎么办",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#q-命令执行失败怎么办",children:"#"}),"Q: 命令执行失败怎么办？"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," 首先检查："]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"数据库连接是否正常"}),"\n",(0,i.jsx)(n.li,{children:"文件权限是否正确"}),"\n",(0,i.jsxs)(n.li,{children:["使用 ",(0,i.jsx)(n.code,{children:"php artisan admin:check"})," 检查环境"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"q-如何恢复误删的文件",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#q-如何恢复误删的文件",children:"#"}),"Q: 如何恢复误删的文件？"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," 使用发布命令重新生成："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",meta:"",children:"php artisan admin:publish --force\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"q-模块初始化失败",children:[(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#q-模块初始化失败",children:"#"}),"Q: 模块初始化失败？"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"A:"})," 确保："]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"模块已正确安装"}),"\n",(0,i.jsx)(n.li,{children:"数据库权限充足"}),"\n",(0,i.jsx)(n.li,{children:"模块配置正确"}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive info",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"提示"}),(0,i.jsx)(n.div,{className:"rspress-directive-content",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["大部分命令支持 ",(0,i.jsx)(n.code,{children:"--help"})," 参数查看详细说明"]}),"\n",(0,i.jsx)(n.li,{children:"建议在开发环境先测试命令效果"}),"\n",(0,i.jsx)(n.li,{children:"生产环境执行命令前请备份重要数据"}),"\n"]})})]}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"重要提醒"}),(0,i.jsx)(n.div,{className:"rspress-directive-content",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["执行 ",(0,i.jsx)(n.code,{children:"admin:install"})," 会执行数据库迁移；仅当管理员表为空时初始化默认账号（",(0,i.jsx)(n.code,{children:"admin/admin"}),"），不会清空已有数据表"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--force"})," 参数会覆盖现有文件，请确认后使用"]}),"\n",(0,i.jsx)(n.li,{children:"模块相关命令需要先安装对应模块"}),"\n"]})})]})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,d.ah)(),e.components);return n?(0,i.jsx)(n,Object.assign({},e,{children:(0,i.jsx)(r,e)})):r(e)}let h=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["guide%2Fbasic%2Fartisan.md"]={toc:[{id:"用户管理命令",text:"用户管理命令",depth:2},{id:"创建管理员用户",text:"创建管理员用户",depth:3},{id:"重置用户密码",text:"重置用户密码",depth:3},{id:"框架管理命令",text:"框架管理命令",depth:2},{id:"安装框架",text:"安装框架",depth:3},{id:"发布框架资源",text:"发布框架资源",depth:3},{id:"更新框架",text:"更新框架",depth:3},{id:"代码生成命令",text:"代码生成命令",depth:2},{id:"生成路由文件",text:"生成路由文件",depth:3},{id:"模块管理命令",text:"模块管理命令",depth:2},{id:"初始化模块",text:"初始化模块",depth:3},{id:"初始化模块数据库",text:"初始化模块数据库",depth:3},{id:"开发工具命令",text:"开发工具命令",depth:2},{id:"环境检查",text:"环境检查",depth:3},{id:"生成-ide-辅助文件",text:"生成 IDE 辅助文件",depth:3},{id:"命令使用技巧",text:"命令使用技巧",depth:2},{id:"1-查看命令帮助",text:"1. 查看命令帮助",depth:3},{id:"2-批量操作",text:"2. 批量操作",depth:3},{id:"3-开发环境快速设置",text:"3. 开发环境快速设置",depth:3},{id:"4-生产环境部署",text:"4. 生产环境部署",depth:3},{id:"常见问题",text:"常见问题",depth:2},{id:"q-命令执行失败怎么办",text:"Q: 命令执行失败怎么办？",depth:3},{id:"q-如何恢复误删的文件",text:"Q: 如何恢复误删的文件？",depth:3},{id:"q-模块初始化失败",text:"Q: 模块初始化失败？",depth:3}],title:"内置命令",frontmatter:{}}}}]);