"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["8639"],{9923:function(e,n,s){s.r(n),s.d(n,{default:function(){return h}});var r=s(2676),d=s(453);function i(e){let n=Object.assign({h1:"h1",a:"a",div:"div",p:"p",code:"code",h2:"h2",h3:"h3",ul:"ul",li:"li",strong:"strong",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",pre:"pre",ol:"ol"},(0,d.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"代码生成器",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#代码生成器",children:"#"}),"代码生成器"]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"启用条件"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:["\n当 ",(0,r.jsx)(n.code,{children:"config/admin.php"})," 中的 ",(0,r.jsx)(n.code,{children:"show_development_tools"})," 设置为 ",(0,r.jsx)(n.code,{children:"true"}),"时，代码生成器将在后台开发工具菜单中显示。"]})})]}),"\n",(0,r.jsx)(n.p,{children:"代码生成器是 Owl Admin 的核心功能之一，能够根据数据库表结构自动生成完整的 CRUD 代码，包括模型、控制器、服务层、数据库迁移文件等，大幅提升开发效率。"}),"\n",(0,r.jsxs)(n.h2,{id:"功能特性",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#功能特性",children:"#"}),"功能特性"]}),"\n",(0,r.jsxs)(n.h3,{id:"智能代码生成",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#智能代码生成",children:"#"}),"智能代码生成"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"完整 MVC 架构"}),"：自动生成 Model、Controller、Service 三层架构代码"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"数据库支持"}),"：支持 MySQL、PostgreSQL、SQLite 等主流数据库"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"字段智能识别"}),"：自动识别表字段类型并生成对应的表单组件"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"关联关系处理"}),"：支持一对一、一对多等关联关系的代码生成"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"可视化配置",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#可视化配置",children:"#"}),"可视化配置"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"表单构建器"}),"：可视化配置表单字段和验证规则"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"组件选择器"}),"：支持 150+ Amis 组件的选择和配置"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"页面布局配置"}),"：支持弹窗、抽屉、页面等多种展示方式"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"权限配置"}),"：自动生成权限控制代码"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"代码管理",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#代码管理",children:"#"}),"代码管理"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"预览功能"}),"：生成前可预览所有代码文件"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"记录管理"}),"：保存生成记录，支持导入/导出配置"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"代码清理"}),"：一键清理生成的代码文件"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"版本控制"}),"：支持代码的增量更新"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"使用流程",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用流程",children:"#"}),"使用流程"]}),"\n",(0,r.jsxs)(n.h3,{id:"1-基础配置",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-基础配置",children:"#"}),"1. 基础配置"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"访问代码生成器"}),"：后台 → 开发工具 → 代码生成器"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"基本信息配置"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"表名"}),"：选择已存在的数据库表或输入新表名"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"功能名称"}),"：设置功能的显示名称"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"主键字段"}),"：指定表的主键字段（默认为 ",(0,r.jsx)(n.code,{children:"id"}),"）"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"保存路径"}),"：选择代码文件的保存位置"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"2-生成选项",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-生成选项",children:"#"}),"2. 生成选项"]}),"\n",(0,r.jsx)(n.p,{children:"选择需要生成的文件类型："}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"选项"}),(0,r.jsx)(n.th,{children:"说明"}),(0,r.jsx)(n.th,{children:"生成内容"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"创建数据库迁移"})}),(0,r.jsx)(n.td,{children:"生成 Laravel 迁移文件"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"database/migrations/xxx_create_table.php"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"创建数据表"})}),(0,r.jsx)(n.td,{children:"执行迁移创建表"}),(0,r.jsx)(n.td,{children:"在数据库中创建对应表结构"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"创建模型"})}),(0,r.jsx)(n.td,{children:"生成 Eloquent 模型"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"app/Models/ModelName.php"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"创建控制器"})}),(0,r.jsx)(n.td,{children:"生成控制器文件"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"app/Admin/Controllers/ControllerName.php"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"创建服务"})}),(0,r.jsx)(n.td,{children:"生成服务层文件"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"app/Admin/Services/ServiceName.php"})})]})]})]}),"\n",(0,r.jsxs)(n.h3,{id:"3-字段配置",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-字段配置",children:"#"}),"3. 字段配置"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"字段属性设置"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"字段名称"}),"：数据库字段名"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"字段类型"}),"：数据类型（string、integer、text 等）"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"显示名称"}),"：前端显示的字段标签"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"表单组件"}),"：选择对应的 Amis 组件"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"验证规则"}),"：设置字段验证规则"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"默认值"}),"：字段的默认值"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"组件配置"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"列表显示"}),"：是否在列表页显示"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"表单显示"}),"：是否在表单中显示"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"搜索字段"}),"：是否作为搜索条件"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"排序字段"}),"：是否支持排序"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"4-路由和菜单配置",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-路由和菜单配置",children:"#"}),"4. 路由和菜单配置"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"路由设置"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"路由前缀"}),"：API 路由的前缀"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"控制器命名空间"}),"：控制器的命名空间"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"中间件"}),"：应用的中间件"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"菜单配置"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"菜单名称"}),"：在后台菜单中显示的名称"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"父级菜单"}),"：选择父级菜单位置"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"菜单图标"}),"：使用 Iconify 图标选择器"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"排序权重"}),"：菜单的显示顺序"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"5-页面配置",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5-页面配置",children:"#"}),"5. 页面配置"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"表单类型"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"弹窗表单"}),"：在弹窗中显示表单"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"抽屉表单"}),"：在侧边抽屉中显示表单"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"页面表单"}),"：独立页面显示表单"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"页面布局"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"列表页配置"}),"：表格列、筛选器、工具栏等"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"表单页配置"}),"：字段布局、分组、验证等"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"详情页配置"}),"：字段显示方式和布局"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"高级功能",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#高级功能",children:"#"}),"高级功能"]}),"\n",(0,r.jsxs)(n.h3,{id:"代码预览",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#代码预览",children:"#"}),"代码预览"]}),"\n",(0,r.jsx)(n.p,{children:"生成代码前可预览所有文件内容："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",meta:"",children:"// 预览功能支持\n- Controller 代码预览\n- Service 代码预览\n- Model 代码预览\n- Migration 代码预览\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"记录管理",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#记录管理",children:"#"}),"记录管理"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"保存配置"}),"：每次生成都会保存配置记录，便于后续修改和复用"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"导入/导出"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"导出配置为 JSON 格式"}),"\n",(0,r.jsx)(n.li,{children:"导入已有的配置文件"}),"\n",(0,r.jsx)(n.li,{children:"在不同环境间共享配置"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"克隆记录"}),"：基于现有记录快速创建相似功能"]}),"\n",(0,r.jsxs)(n.h3,{id:"代码清理",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#代码清理",children:"#"}),"代码清理"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"选择性清理"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"清理 Model 文件"}),"\n",(0,r.jsx)(n.li,{children:"清理 Controller 文件"}),"\n",(0,r.jsx)(n.li,{children:"清理 Service 文件"}),"\n",(0,r.jsx)(n.li,{children:"清理 Migration 文件"}),"\n",(0,r.jsx)(n.li,{children:"清理路由配置"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"安全机制"}),"：清理前会显示将要删除的文件列表，确认后执行"]}),"\n",(0,r.jsxs)(n.h2,{id:"路由管理",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#路由管理",children:"#"}),"路由管理"]}),"\n",(0,r.jsxs)(n.h3,{id:"自动路由生成",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#自动路由生成",children:"#"}),"自动路由生成"]}),"\n",(0,r.jsxs)(n.p,{children:["代码生成器会自动管理路由文件 ",(0,r.jsx)(n.code,{children:"routes/admin.php"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"自动更新"}),"：每次生成新功能时自动更新路由文件"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"增量更新"}),"：只添加新路由，不影响现有路由"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"命名规范"}),"：遵循 RESTful 路由命名规范"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"手动路由管理",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#手动路由管理",children:"#"}),"手动路由管理"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"命令行工具"}),"："]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",meta:"",children:"# 手动更新路由文件\nphp artisan admin:gen-route\n\n# 清理无效路由\nphp artisan admin:clean-route\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"手动配置"}),"："]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:'生成代码时关闭"生成路由&菜单"选项'}),"\n",(0,r.jsxs)(n.li,{children:["在 ",(0,r.jsx)(n.code,{children:"routes/admin.php"})," 中手动添加路由"]}),"\n",(0,r.jsx)(n.li,{children:"在后台菜单管理中手动创建菜单"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"路由结构",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#路由结构",children:"#"}),"路由结构"]}),"\n",(0,r.jsx)(n.p,{children:"生成的路由遵循标准 RESTful 规范："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",meta:"",children:"// 自动生成的路由示例\nRoute::resource('users', UserController::class);\nRoute::get('users/{id}/show', [UserController::class, 'show']);\nRoute::post('users/store', [UserController::class, 'store']);\nRoute::put('users/{id}', [UserController::class, 'update']);\nRoute::delete('users/{id}', [UserController::class, 'destroy']);\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"数据库支持",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#数据库支持",children:"#"}),"数据库支持"]}),"\n",(0,r.jsxs)(n.h3,{id:"支持的数据库类型",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#支持的数据库类型",children:"#"}),"支持的数据库类型"]}),"\n",(0,r.jsx)(n.p,{children:"代码生成器支持多种主流数据库："}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"数据库"}),(0,r.jsx)(n.th,{children:"驱动"}),(0,r.jsx)(n.th,{children:"特性支持"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"MySQL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mysql"})}),(0,r.jsx)(n.td,{children:"完整支持，包括字段注释、索引等"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"PostgreSQL"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pgsql"})}),(0,r.jsx)(n.td,{children:"支持高级数据类型和约束"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"SQLite"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sqlite"})}),(0,r.jsx)(n.td,{children:"轻量级支持，适合开发环境"})]})]})]}),"\n",(0,r.jsxs)(n.h3,{id:"字段类型映射",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#字段类型映射",children:"#"}),"字段类型映射"]}),"\n",(0,r.jsx)(n.p,{children:"系统会自动将数据库字段类型映射为对应的表单组件："}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"数据库类型"}),(0,r.jsx)(n.th,{children:"表单组件"}),(0,r.jsx)(n.th,{children:"说明"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"varchar/char/text"})}),(0,r.jsx)(n.td,{children:"TextControl"}),(0,r.jsx)(n.td,{children:"文本输入框"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int/bigint"})}),(0,r.jsx)(n.td,{children:"NumberControl"}),(0,r.jsx)(n.td,{children:"数字输入框"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"decimal/float"})}),(0,r.jsx)(n.td,{children:"NumberControl"}),(0,r.jsx)(n.td,{children:"小数输入框"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date/datetime"})}),(0,r.jsx)(n.td,{children:"DateTimeControl"}),(0,r.jsx)(n.td,{children:"日期时间选择器"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enum"})}),(0,r.jsx)(n.td,{children:"SelectControl"}),(0,r.jsx)(n.td,{children:"下拉选择框"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"json"})}),(0,r.jsx)(n.td,{children:"JsonSchemaControl"}),(0,r.jsx)(n.td,{children:"JSON 编辑器"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"text/longtext"})}),(0,r.jsx)(n.td,{children:"TextareaControl"}),(0,r.jsx)(n.td,{children:"多行文本框"})]})]})]}),"\n",(0,r.jsxs)(n.h3,{id:"表结构识别",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#表结构识别",children:"#"}),"表结构识别"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"自动识别功能"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"字段属性"}),"：自动识别字段类型、长度、默认值"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"约束条件"}),"：识别非空、唯一、外键等约束"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"索引信息"}),"：识别主键、普通索引、唯一索引"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"字段注释"}),"：读取数据库字段注释作为显示标签"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"智能过滤"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["自动跳过系统字段（",(0,r.jsx)(n.code,{children:"id"}),"、",(0,r.jsx)(n.code,{children:"created_at"}),"、",(0,r.jsx)(n.code,{children:"updated_at"}),"、",(0,r.jsx)(n.code,{children:"deleted_at"}),"）"]}),"\n",(0,r.jsx)(n.li,{children:"识别时间戳字段并自动配置"}),"\n",(0,r.jsx)(n.li,{children:"处理软删除字段"}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"生成的代码结构",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#生成的代码结构",children:"#"}),"生成的代码结构"]}),"\n",(0,r.jsxs)(n.h3,{id:"model-文件",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#model-文件",children:"#"}),"Model 文件"]}),"\n",(0,r.jsx)(n.p,{children:"生成的模型文件包含："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",meta:"",children:"<?php\n\nnamespace App\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Model;\nuse Illuminate\\Database\\Eloquent\\SoftDeletes;\n\nclass User extends Model\n{\n    use SoftDeletes;\n\n    protected $fillable = [\n        'name', 'email', 'phone', 'status'\n    ];\n\n    protected $casts = [\n        'status' => 'integer',\n        'created_at' => 'datetime',\n        'updated_at' => 'datetime',\n    ];\n\n    // 自动生成的关联关系\n    public function profile()\n    {\n        return $this->hasOne(UserProfile::class);\n    }\n}\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"controller-文件",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#controller-文件",children:"#"}),"Controller 文件"]}),"\n",(0,r.jsx)(n.p,{children:"生成的控制器包含完整的 CRUD 操作："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",meta:"",children:"<?php\n\nnamespace App\\Admin\\Controllers;\n\nuse Slowlyo\\OwlAdmin\\Controllers\\AdminController;\n\nclass UserController extends AdminController\n{\n    protected string $serviceName = UserService::class;\n\n    public function list()\n    {\n        return $this->baseCRUD()\n            ->filterTogglable(false)\n            ->headerToolbar($this->createButton(true))\n            ->columns($this->baseColumns());\n    }\n\n    public function form($isEdit = false)\n    {\n        return $this->baseForm()->body([\n            amis()->TextControl('name', '姓名')->required(),\n            amis()->EmailControl('email', '邮箱')->required(),\n            amis()->TextControl('phone', '手机号'),\n            amis()->SelectControl('status', '状态')\n                ->options([\n                    ['label' => '启用', 'value' => 1],\n                    ['label' => '禁用', 'value' => 0],\n                ]),\n        ]);\n    }\n}\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"service-文件",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#service-文件",children:"#"}),"Service 文件"]}),"\n",(0,r.jsx)(n.p,{children:"生成的服务层处理业务逻辑："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",meta:"",children:"<?php\n\nnamespace App\\Admin\\Services;\n\nuse App\\Models\\User;\nuse Slowlyo\\OwlAdmin\\Services\\AdminService;\n\nclass UserService extends AdminService\n{\n    protected string $modelName = User::class;\n\n    public function listQuery()\n    {\n        return parent::listQuery()\n            ->when(request('name'), function ($query, $name) {\n                $query->where('name', 'like', \"%{$name}%\");\n            })\n            ->when(request('status'), function ($query, $status) {\n                $query->where('status', $status);\n            });\n    }\n\n    public function store($data)\n    {\n        // 自定义创建逻辑\n        return parent::store($data);\n    }\n\n    public function update($primaryKey, $data)\n    {\n        // 自定义更新逻辑\n        return parent::update($primaryKey, $data);\n    }\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"最佳实践",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#最佳实践",children:"#"}),"最佳实践"]}),"\n",(0,r.jsxs)(n.h3,{id:"1-表设计规范",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-表设计规范",children:"#"}),"1. 表设计规范"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"字段命名"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["使用下划线命名法：",(0,r.jsx)(n.code,{children:"user_name"}),"、",(0,r.jsx)(n.code,{children:"created_at"})]}),"\n",(0,r.jsxs)(n.li,{children:["布尔字段使用 ",(0,r.jsx)(n.code,{children:"is_"})," 前缀：",(0,r.jsx)(n.code,{children:"is_active"}),"、",(0,r.jsx)(n.code,{children:"is_deleted"})]}),"\n",(0,r.jsxs)(n.li,{children:["状态字段使用 ",(0,r.jsx)(n.code,{children:"status"})," 或 ",(0,r.jsx)(n.code,{children:"state"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"字段类型选择"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["主键使用 ",(0,r.jsx)(n.code,{children:"bigint unsigned auto_increment"})]}),"\n",(0,r.jsx)(n.li,{children:"字符串字段指定合适的长度"}),"\n",(0,r.jsxs)(n.li,{children:["金额字段使用 ",(0,r.jsx)(n.code,{children:"decimal"})," 类型"]}),"\n",(0,r.jsxs)(n.li,{children:["时间字段使用 ",(0,r.jsx)(n.code,{children:"timestamp"})," 或 ",(0,r.jsx)(n.code,{children:"datetime"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"索引设计"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"为常用查询字段添加索引"}),"\n",(0,r.jsx)(n.li,{children:"外键字段必须添加索引"}),"\n",(0,r.jsx)(n.li,{children:"复合索引考虑字段顺序"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"2-代码生成策略",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-代码生成策略",children:"#"}),"2. 代码生成策略"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"分步生成"}),"："]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"先生成基础的 Model 和 Migration"}),"\n",(0,r.jsx)(n.li,{children:"创建数据表并填充测试数据"}),"\n",(0,r.jsx)(n.li,{children:"生成 Controller 和 Service"}),"\n",(0,r.jsx)(n.li,{children:"最后配置路由和菜单"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"配置管理"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"为每个功能模块保存生成配置"}),"\n",(0,r.jsx)(n.li,{children:"使用导出功能备份重要配置"}),"\n",(0,r.jsx)(n.li,{children:"在团队中共享标准配置模板"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"3-代码定制",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-代码定制",children:"#"}),"3. 代码定制"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"生成后优化"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"根据业务需求调整表单验证规则"}),"\n",(0,r.jsx)(n.li,{children:"添加自定义的业务逻辑方法"}),"\n",(0,r.jsx)(n.li,{children:"优化查询性能和数据关联"}),"\n",(0,r.jsx)(n.li,{children:"完善错误处理和日志记录"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"扩展功能"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"添加自定义的表单组件"}),"\n",(0,r.jsx)(n.li,{children:"实现复杂的数据处理逻辑"}),"\n",(0,r.jsx)(n.li,{children:"集成第三方服务和 API"}),"\n",(0,r.jsx)(n.li,{children:"添加数据导入导出功能"}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"常见问题",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#常见问题",children:"#"}),"常见问题"]}),"\n",(0,r.jsxs)(n.h3,{id:"生成失败",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#生成失败",children:"#"}),"生成失败"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"权限问题"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"确保目录具有写入权限"}),"\n",(0,r.jsxs)(n.li,{children:["检查 ",(0,r.jsx)(n.code,{children:"storage"})," 和 ",(0,r.jsx)(n.code,{children:"bootstrap/cache"})," 目录权限"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"文件冲突"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"生成前检查是否存在同名文件"}),"\n",(0,r.jsx)(n.li,{children:"使用预览功能确认生成内容"}),"\n",(0,r.jsx)(n.li,{children:"必要时手动删除冲突文件"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"数据库连接"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"确认数据库连接配置正确"}),"\n",(0,r.jsx)(n.li,{children:"检查数据库用户权限"}),"\n",(0,r.jsx)(n.li,{children:"验证表是否存在"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"代码质量",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#代码质量",children:"#"}),"代码质量"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"命名规范"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"遵循 PSR 编码规范"}),"\n",(0,r.jsx)(n.li,{children:"使用有意义的类名和方法名"}),"\n",(0,r.jsx)(n.li,{children:"保持代码注释的完整性"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"性能优化"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"避免 N+1 查询问题"}),"\n",(0,r.jsx)(n.li,{children:"合理使用数据库索引"}),"\n",(0,r.jsx)(n.li,{children:"实现适当的缓存策略"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"维护更新",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#维护更新",children:"#"}),"维护更新"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"版本控制"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"将生成的代码纳入版本控制"}),"\n",(0,r.jsx)(n.li,{children:"记录每次生成的变更内容"}),"\n",(0,r.jsx)(n.li,{children:"保留重要的自定义修改"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"增量更新"}),"："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"使用代码生成器的更新功能"}),"\n",(0,r.jsx)(n.li,{children:"手动合并自定义代码"}),"\n",(0,r.jsx)(n.li,{children:"测试更新后的功能完整性"}),"\n"]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,d.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(i,e)})):i(e)}let h=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["guide%2Fbuilt-in%2Fcode-generator.md"]={toc:[{id:"功能特性",text:"功能特性",depth:2},{id:"智能代码生成",text:"智能代码生成",depth:3},{id:"可视化配置",text:"可视化配置",depth:3},{id:"代码管理",text:"代码管理",depth:3},{id:"使用流程",text:"使用流程",depth:2},{id:"1-基础配置",text:"1. 基础配置",depth:3},{id:"2-生成选项",text:"2. 生成选项",depth:3},{id:"3-字段配置",text:"3. 字段配置",depth:3},{id:"4-路由和菜单配置",text:"4. 路由和菜单配置",depth:3},{id:"5-页面配置",text:"5. 页面配置",depth:3},{id:"高级功能",text:"高级功能",depth:2},{id:"代码预览",text:"代码预览",depth:3},{id:"记录管理",text:"记录管理",depth:3},{id:"代码清理",text:"代码清理",depth:3},{id:"路由管理",text:"路由管理",depth:2},{id:"自动路由生成",text:"自动路由生成",depth:3},{id:"手动路由管理",text:"手动路由管理",depth:3},{id:"路由结构",text:"路由结构",depth:3},{id:"数据库支持",text:"数据库支持",depth:2},{id:"支持的数据库类型",text:"支持的数据库类型",depth:3},{id:"字段类型映射",text:"字段类型映射",depth:3},{id:"表结构识别",text:"表结构识别",depth:3},{id:"生成的代码结构",text:"生成的代码结构",depth:2},{id:"model-文件",text:"Model 文件",depth:3},{id:"controller-文件",text:"Controller 文件",depth:3},{id:"service-文件",text:"Service 文件",depth:3},{id:"最佳实践",text:"最佳实践",depth:2},{id:"1-表设计规范",text:"1. 表设计规范",depth:3},{id:"2-代码生成策略",text:"2. 代码生成策略",depth:3},{id:"3-代码定制",text:"3. 代码定制",depth:3},{id:"常见问题",text:"常见问题",depth:2},{id:"生成失败",text:"生成失败",depth:3},{id:"代码质量",text:"代码质量",depth:3},{id:"维护更新",text:"维护更新",depth:3}],title:"代码生成器",frontmatter:{}}}}]);